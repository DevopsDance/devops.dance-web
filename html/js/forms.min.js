"use strict";$(function(t){t("form").each(function(){var e=t(this),n={errorPlacement:function(t,e){var n=e.parent();n.hasClass("input-group")?t.insertAfter(n):n.hasClass("control")?t.insertAfter(e.next(".control-label")):t.insertAfter(e)}};"submit"==e.data("validate-on")&&t.extend(n,{onfocusout:!1,onkeyup:!1}),e.validate(n)}),t("form").submit(function(e){function n(e,n,a){var i=t.extend(!0,{},a,{url:e,type:"POST",data:n,dataType:"json"});t.ajax(i).done(function(e){e.result?(r.trigger("form.submitted",[this,e]),t("input, textarea",r).removeClass("error"),t(".response",s).html(e.message),r.addClass("submitted"),r[0].reset()):e.errors&&t.each(e.errors,function(e,n){t("[name$='["+e+"]']",r).addClass("error").tooltip({title:n,placement:"bottom",trigger:"manual"}).tooltip("show").on("focus",function(){t(this).tooltip("destroy")})})}).fail(function(){t(".response",s).html(t("<span class='block'>Something went wrong.</span>"))}).always(function(){o.button("reset")})}e.preventDefault();var r=t(this);if(!r.valid())return!1;var o=t("button[type=submit]",this).button("loading"),s=r.next(".response-message");return function(t){n(t.attr("action"),t.serializeArray())}(r),!1})});